<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    
    
    <title>DetRan - Ransomware Detection Platform</title>
</head>
<body>
    <!-- Animated Background Particles -->
    <div class="particles" id="particles"></div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <svg class="logo-icon" width="24" height="24" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,7C13.4,7 14.8,8.6 14.8,10V11.5C15.4,11.5 16,12.1 16,12.7V16.5C16,17.1 15.4,17.7 14.8,17.7H9.2C8.6,17.7 8,17.1 8,16.5V12.6C8,12 8.6,11.4 9.2,11.4V10C9.2,8.6 10.6,7 12,7M12,8.2C11.2,8.2 10.5,8.7 10.5,9.5V11.5H13.5V9.5C13.5,8.7 12.8,8.2 12,8.2Z"/>
                </svg>
                <span class="logo-text">DETRAN</span>
            </div>
            <ul class="nav-links">
                <li><a href="index.html" class="nav-link active">HOME</a></li>
                <li><a href="scan.html" class="nav-link">SCAN</a></li>
                <li><a href="#features" class="nav-link">FEATURES</a></li>
                <li><a href="#about" class="nav-link">ABOUT</a></li>
                <li><a href="#contact" class="nav-link">CONTACT</a></li>
            </ul>
            <button class="mobile-toggle" id="mobileToggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-bg-overlay"></div>
        <div class="hero-content">
            <div class="hero-badge">AI-POWERED SECURITY</div>
            <h1 class="hero-title">
                <span class="title-line">RANSOMWARE DETECTION</span>
                <span class="title-line">PLATFORM</span>
            </h1>
            <p class="hero-subtitle">Advanced threat detection to protect your digital assets from malicious attacks</p>
            
            <div class="hero-actions">
                <a href="scan.html" class="btn-primary">
                    <svg class="btn-icon" width="20" height="20" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M15.5,14L20.5,19L19,20.5L14,15.5V14.71L13.73,14.43C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.43,13.73L14.71,14H15.5M9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14Z"/>
                    </svg>
                    <span>SCAN YOUR FILES</span>
                    <span class="btn-glow"></span>
                </a>
                <button class="btn-secondary" onclick="document.getElementById('features').scrollIntoView({behavior: 'smooth'})">
                    <span>LEARN MORE</span>
                    <svg class="btn-arrow" width="16" height="16" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z"/>
                    </svg>
                </button>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats">
        <div class="stats-container">
            <div class="stat-card">
                <svg class="stat-icon" width="48" height="48" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M11,16.5L18,9.5L16.59,8.09L11,13.67L7.91,10.59L6.5,12L11,16.5Z"/>
                </svg>
                <div class="stat-number" data-target="2500">0</div>
                <div class="stat-label">Threats Detected</div>
            </div>
            <div class="stat-card">
                <svg class="stat-icon" width="48" height="48" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"/>
                </svg>
                <div class="stat-number" data-target="100">0</div>
                <div class="stat-suffix">%</div>
                <div class="stat-label">Success Rate</div>
            </div>
            <div class="stat-card">
                <svg class="stat-icon" width="48" height="48" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M13,2.03V2.05L13,4.05C17.39,4.59 20.5,8.58 19.96,12.97C19.5,16.61 16.64,19.5 13,19.93V21.93C18.5,21.38 22.5,16.5 21.95,11C21.5,6.25 17.73,2.5 13,2.03M11,2.06C9.05,2.25 7.19,3 5.67,4.26L7.1,5.74C8.22,4.84 9.57,4.26 11,4.06V2.06M4.26,5.67C3,7.19 2.25,9.04 2.05,11H4.05C4.24,9.58 4.8,8.23 5.69,7.1L4.26,5.67M2.06,13C2.26,14.96 3.03,16.81 4.27,18.33L5.69,16.9C4.81,15.77 4.24,14.42 4.06,13H2.06M7.1,18.37L5.67,19.74C7.18,21 9.04,21.79 11,22V20C9.58,19.82 8.23,19.25 7.1,18.37M16.82,15.19L12.71,11.08C13.12,10.04 12.89,8.82 12.03,7.97C11.13,7.06 9.78,6.88 8.69,7.38L10.63,9.32L9.28,10.68L7.29,8.73C6.75,9.82 7,11.17 7.88,12.08C8.74,12.94 9.96,13.16 11,12.76L15.11,16.86C15.29,17.05 15.56,17.05 15.74,16.86L16.78,15.83C16.97,15.65 16.97,15.33 16.82,15.19Z"/>
                </svg>
                <div class="stat-number" data-target="24">0</div>
                <div class="stat-suffix">/7</div>
                <div class="stat-label">Support Available</div>
            </div>
            <div class="stat-card">
                <svg class="stat-icon" width="48" height="48" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12,6A6,6 0 0,0 6,12A6,6 0 0,0 12,18A6,6 0 0,0 18,12A6,6 0 0,0 12,6Z"/>
                </svg>
                <div class="stat-number" data-target="150">0</div>
                <div class="stat-suffix">+</div>
                <div class="stat-label">Countries Protected</div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features" id="features">
        <div class="section-header">
            <h2 class="section-title">ADVANCED FEATURES</h2>
            <p class="section-subtitle">Cutting-edge technology for comprehensive protection</p>
        </div>
        
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon-wrapper">
                    <svg class="feature-icon" width="64" height="64" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z"/>
                    </svg>
                </div>
                <h3 class="feature-title">Real-Time Protection</h3>
                <p class="feature-desc">Continuous monitoring and instant threat detection to keep your files secure around the clock</p>
                <div class="feature-border"></div>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon-wrapper">
                    <svg class="feature-icon" width="64" height="64" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M12,2A2,2 0 0,1 14,4C14,4.74 13.6,5.39 13,5.73V7H14A7,7 0 0,1 21,14H22A1,1 0 0,1 23,15V18A1,1 0 0,1 22,19H21V20A2,2 0 0,1 19,22H5A2,2 0 0,1 3,20V19H2A1,1 0 0,1 1,18V15A1,1 0 0,1 2,14H3A7,7 0 0,1 10,7H11V5.73C10.4,5.39 10,4.74 10,4A2,2 0 0,1 12,2Z"/>
                    </svg>
                </div>
                <h3 class="feature-title">AI-Powered Analysis</h3>
                <p class="feature-desc">Machine learning algorithms detect even the most sophisticated ransomware variants</p>
                <div class="feature-border"></div>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon-wrapper">
                    <svg class="feature-icon" width="64" height="64" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z"/>
                    </svg>
                </div>
                <h3 class="feature-title">Data Privacy</h3>
                <p class="feature-desc">Your files are encrypted and processed with complete confidentiality and security</p>
                <div class="feature-border"></div>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon-wrapper">
                    <svg class="feature-icon" width="64" height="64" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M13.5,8H12V13L16.28,15.54L17,14.33L13.5,12.25V8M13,3A9,9 0 0,0 4,12H1L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3"/>
                    </svg>
                </div>
                <h3 class="feature-title">Lightning Fast</h3>
                <p class="feature-desc">Optimized scanning engine provides results in seconds without compromising accuracy</p>
                <div class="feature-border"></div>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon-wrapper">
                    <svg class="feature-icon" width="64" height="64" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1Z"/>
                    </svg>
                </div>
                <h3 class="feature-title">Industry Certified</h3>
                <p class="feature-desc">Compliant with international security standards and regulations for maximum trust</p>
                <div class="feature-border"></div>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon-wrapper">
                    <svg class="feature-icon" width="64" height="64" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M21,8C19,8 19,7 19,7V6A2,2 0 0,0 17,4H17A2,2 0 0,0 15,6V7C15,7 15,8 13,8C11.95,8 11,7.05 11,6C11,5.45 11.22,4.95 11.59,4.59C11.95,4.22 12.45,4 13,4C13,3.45 13.22,2.95 13.59,2.59C13.95,2.22 14.45,2 15,2C15.55,2 16.05,2.22 16.41,2.59C16.78,2.95 17,3.45 17,4C17.55,4 18.05,4.22 18.41,4.59C18.78,4.95 19,5.45 19,6C19,7.05 18.05,8 17,8M16,10V12H8V10H16M19,12V15C19,18.87 16.87,21 13,21H11C7.13,21 5,18.87 5,15V12H19Z"/>
                    </svg>
                </div>
                <h3 class="feature-title">Detailed Reports</h3>
                <p class="feature-desc">Comprehensive analysis reports with actionable insights and threat classifications</p>
                <div class="feature-border"></div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about" id="about">
        <div class="about-container">
            <div class="about-content">
                <div class="about-badge">ABOUT US</div>
                <h2 class="about-title">WHAT IS DETRAN?</h2>
                <p class="about-text">DetRan is a next-generation ransomware detection platform that leverages artificial intelligence and machine learning to identify and neutralize threats before they can harm your system. Our advanced algorithms analyze file behavior, encryption patterns, and suspicious activities to provide comprehensive protection.</p>
                <p class="about-text">With a proven track record of detecting over 2,500 threats and maintaining a 100% success rate, DetRan stands at the forefront of cybersecurity innovation. Our platform is trusted by individuals and organizations worldwide.</p>
                <a href="scan.html" class="btn-secondary">
                    <span>START SCANNING</span>
                    <svg class="btn-arrow" width="16" height="16" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z"/>
                    </svg>
                </a>
            </div>
            <div class="about-visual">
                <div class="shield-container">
                    <div class="shield-ring ring-1"></div>
                    <div class="shield-ring ring-2"></div>
                    <div class="shield-ring ring-3"></div>
                    <div class="shield-center">
                        <svg width="48" height="48" viewBox="0 0 24 24">
                            <path fill="currentColor" d="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1Z"/>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact" id="contact">
        <div class="contact-container">
            <h2 class="section-title">GET IN TOUCH</h2>
            <p class="section-subtitle">Have questions? We're here to help</p>
            
            <div class="contact-grid">
                <div class="contact-card">
                    <svg class="contact-icon" width="48" height="48" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z"/>
                    </svg>
                    <h4>Email Us</h4>
                    <p>support@detran.io</p>
                </div>
                <div class="contact-card">
                    <svg class="contact-icon" width="48" height="48" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M12,3C7.46,3 3.34,4.78 0.29,7.67C0.11,7.85 0,8.1 0,8.38C0,8.66 0.11,8.91 0.29,9.09L2.77,11.57C2.95,11.75 3.2,11.86 3.5,11.86C3.75,11.86 4,11.75 4.18,11.58C4.97,10.84 5.87,10.22 6.84,9.73C7.17,9.57 7.4,9.23 7.4,8.83V5.73C8.85,5.25 10.39,5 12,5C13.59,5 15.14,5.25 16.59,5.72V8.82C16.59,9.21 16.82,9.56 17.15,9.72C18.13,10.21 19,10.84 19.82,11.57C20,11.75 20.25,11.85 20.5,11.85C20.8,11.85 21.05,11.74 21.23,11.56L23.71,9.08C23.89,8.9 24,8.65 24,8.37C24,8.09 23.88,7.85 23.7,7.67C20.65,4.78 16.53,3 12,3Z"/>
                    </svg>
                    <h4>Live Chat</h4>
                    <p>Available 24/7</p>
                </div>
                <div class="contact-card">
                    <svg class="contact-icon" width="48" height="48" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z"/>
                    </svg>
                    <h4>Call Us</h4>
                    <p>+1 (555) 123-4567</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-logo">
                <svg class="logo-icon" width="24" height="24" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,7C13.4,7 14.8,8.6 14.8,10V11.5C15.4,11.5 16,12.1 16,12.7V16.5C16,17.1 15.4,17.7 14.8,17.7H9.2C8.6,17.7 8,17.1 8,16.5V12.6C8,12 8.6,11.4 9.2,11.4V10C9.2,8.6 10.6,7 12,7M12,8.2C11.2,8.2 10.5,8.7 10.5,9.5V11.5H13.5V9.5C13.5,8.7 12.8,8.2 12,8.2Z"/>
                </svg>
                <span class="logo-text">DETRAN</span>
            </div>
            <p class="footer-text">Â© 2024 DetRan. All rights reserved. Protecting your digital world.</p>
        </div>
    </footer>

    <!-- Chatbot Widget -->
    <div id="detran-chatbot-container">
        <!-- Floating Icon -->
        <div id="detran-chat-icon">
            <svg width="24" height="24" viewBox="0 0 24 24">
                <path fill="currentColor" d="M12,3C17.5,3 22,6.58 22,11C22,15.42 17.5,19 12,19C10.76,19 9.57,18.82 8.47,18.5C5.55,21 2,21 2,21C4.33,18.67 4.7,17.1 4.75,16.5C3.05,15.07 2,13.13 2,11C2,6.58 6.5,3 12,3Z"/>
            </svg>
        </div>

        <!-- Chat Window -->
        <div id="detran-chat-window">
            <div class="dw-header">
                DETRAN AI Assistant
                <span id="dw-close">
                    <svg width="16" height="16" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"/>
                    </svg>
                </span>
            </div>
            <div id="dw-messages"></div>
            <div class="dw-input">
                <input id="dw-text" type="text" placeholder="Type a message..." />
                <button id="dw-send">
                    <svg width="20" height="20" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M2,21L23,12L2,3V10L17,12L2,14V21Z"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Main JavaScript -->
        <!-- Main JavaScript -->
    <script>
        // Particle Animation
        function createParticles() {
            const particles = document.getElementById('particles');
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 20 + 's';
                particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
                particles.appendChild(particle);
            }
        }

        // Mobile Menu Toggle
        const mobileToggle = document.getElementById('mobileToggle');
        const navLinks = document.querySelector('.nav-links');
        
        mobileToggle.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            mobileToggle.classList.toggle('active');
        });

        // Smooth Scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    navLinks.classList.remove('active');
                    mobileToggle.classList.remove('active');
                }
            });
        });

        // Active Nav Link on Scroll
        window.addEventListener('scroll', () => {
            let current = '';
            const sections = document.querySelectorAll('section[id]');
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (pageYOffset >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }
            });

            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
                const href = link.getAttribute('href');
                if (href === `#${current}` || (current === 'home' && href === 'index.html')) {
                    link.classList.add('active');
                }
            });
        });

        // Counter Animation
        const counters = document.querySelectorAll('.stat-number');
        let animated = false;

        const animateCounters = () => {
            counters.forEach(counter => {
                const target = parseInt(counter.getAttribute('data-target'));
                const duration = 2000;
                const increment = target / (duration / 16);
                let current = 0;

                const updateCounter = () => {
                    current += increment;
                    if (current < target) {
                        counter.textContent = Math.ceil(current);
                        requestAnimationFrame(updateCounter);
                    } else {
                        counter.textContent = target;
                    }
                };
                updateCounter();
            });
        };

        const statsObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && !animated) {
                    animateCounters();
                    animated = true;
                }
            });
        }, { threshold: 0.5 });

        statsObserver.observe(document.querySelector('.stats'));

        // Chatbot Functionality
        const icon = document.getElementById("detran-chat-icon");
        const win = document.getElementById("detran-chat-window");
        const closeBtn = document.getElementById("dw-close");
        const sendBtn = document.getElementById("dw-send");
        const textInput = document.getElementById("dw-text");
        const msgBox = document.getElementById("dw-messages");

        // OPEN/CLOSE widget
        icon.addEventListener("click", () => {
            win.style.display = (win.style.display === "flex") ? "none" : "flex";
            if (win.style.display === "flex") {
                textInput.focus();
            }
        });
        
        closeBtn.addEventListener("click", () => {
            win.style.display = "none";
        });

        // Add messages visually
        function addMessage(txt, type) {
            const div = document.createElement("div");
            div.className = "msg " + type;
            div.innerHTML = `<div class="bubble">${txt}</div>`;
            msgBox.appendChild(div);
            msgBox.scrollTop = msgBox.scrollHeight;
        }

        async function sendMessage() {
            const message = textInput.value.trim();
            if (!message) return;

            // User bubble
            addMessage(message, "user");
            textInput.value = "";
            
            // Temporary typing bubble
            const loading = document.createElement("div");
            loading.className = "msg bot";
            loading.innerHTML = `<div class="bubble typing">Typing...</div>`;
            msgBox.appendChild(loading);
            msgBox.scrollTop = msgBox.scrollHeight;

            try {
                // CHANGED: Using localhost:5000 instead of BACKEND_URL
                const response = await fetch("http://localhost:5000/api/chat", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ message })
                });

                if (!response.ok) {
                    throw new Error(`Server error: ${response.status}`);
                }

                const data = await response.json();
                loading.remove(); // remove typing bubble

                if (data.reply) {
                    addMessage(data.reply, "bot");
                } else if (data.error) {
                    addMessage(`Error: ${data.error}`, "bot");
                } else {
                    addMessage("No response received from server.", "bot");
                }

            } catch (error) {
                loading.remove();
                console.error("Chatbot error:", error);
                addMessage("Error: Could not connect to DETRAN AI server. Please make sure Flask is running on localhost:5000.", "bot");
            }
        }

        sendBtn.addEventListener("click", sendMessage);

        // Enter key support
        textInput.addEventListener("keypress", (e) => {
            if (e.key === "Enter") sendMessage();
        });

        // Add welcome message when chat opens first time
        let welcomeShown = false;
        icon.addEventListener("click", function showWelcome() {
            if (!welcomeShown && msgBox.children.length === 0) {
                addMessage("Hello! I'm DETRAN AI Assistant. I can help you with ransomware detection, cybersecurity questions, and explain how our platform works. How can I assist you today?", "bot");
                welcomeShown = true;
            }
            icon.removeEventListener("click", showWelcome);
        });

        // Initialize
        createParticles();
    </script>
</body>
</html>